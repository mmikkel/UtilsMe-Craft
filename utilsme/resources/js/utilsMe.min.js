!function(a){function b(){var a=$(h.settingsMenuSelector);if(0===a.length||a.find("ul.utilsMeMenu").length>0)return!1;var b=$(h.settingsSubMenuSelector);if(0===b.length)return!1;var c=b.clone(!0),d=this.getUtilsMenuItems();d&&(c.html(d).addClass("utilsMeMenu"),b.parent().append("<h6>"+h.menuName+"</h6>").append(c))}function c(){if(null===this.$settingsPage){this.$settingsPage=!1;var a=$(h.settingsPageSelector),b=$(h.settingsPageMenuSelector);if(0===a.length||0===b.length)return!1;var c=b.clone(!0),d=this.getUtilsMenuItems();d&&(c.html(d),b.parent().append("<hr/><h2>"+h.menuName+"</h2>").append(c),this.$settingsPage=a)}}function d(){this.mouseLeaveInterval&&(clearInterval(this.mouseLeaveInterval),delete this.mouseLeaveInterval),null===this.$navTabDropdown&&(this.$navTabDropdown=this.getNavTabDropdown()),this.$navTabDropdown&&(this.resizeHandler(),this.$navTabDropdown.fadeIn(250))}function e(){if(!this.$navTabDropdown)return!1;this.mouseLeaveInterval&&clearInterval(this.mouseLeaveInterval);var a=this;this.mouseLeaveInterval=setInterval(function(){clearInterval(a.mouseLeaveInterval),delete a.mouseLeaveInterval,a.$navTabDropdown.fadeOut(150)},100)}function f(){if(this.$navTabDropdown){var a=this.$tab.offset();this.$navTabDropdown.css({left:a.left,top:$(h.headerSelector).outerHeight()})}}var g={serverinfo:"Server Info",phpinfo:"PHP Info",logs:"Logs",deprecationerrors:"Deprecation Errors"},h={menuName:"Utilities",navTabSelector:"#nav-utilsme",headerSelector:"#header",settingsPageUriTrigger:"settings",settingsPageSelector:"#content",settingsPageMenuSelector:"#content ul:first",settingsMenuSelector:"#settingsmenu",settingsSubMenuSelector:"#settingsmenu ul:first",settingsMenuTriggerSelector:"#header-actions .settingsmenu.menubtn",menuItemIcon:"settings"},i={$settingsPage:null,$navTabDropdown:null,menuItems:null};i.init=function(){var b=this;if(b.config=a._utilsmeConfig||!1,b.config)this.create();else var c=1e3,d=100,e=0,f=setInterval(function(){b.config=a._utilsmeConfig||!1,(b.config!==!1||e*d>c)&&(clearInterval(f),b.create()),e++},d);return this},i.create=function(){if(!this.config)return!1;var g=this;this.resizeHandler=$.proxy(f,this),this.config.hideNavTab||(this.$tab=$(h.navTabSelector),this.$tab.length>0&&this.$tab.on("mouseenter",$.proxy(d,this)).on("mouseleave",$.proxy(e,this)).addClass("js-init").find("a:first").text(h.menuName)),$(h.settingsMenuTriggerSelector).on("click",function(){$.proxy(b,g)()});var i=a.location.href,j=i.split("/"),k=j.pop();k===h.settingsPageUriTrigger&&$.proxy(c,g)(),$(a).on("resize",this.resizeHandler)},i.getUtilsMenuItems=function(){if(null===this.menuItems){var a="";for(var b in g)a+='<li><a href="'+this.config.baseUrl+b+'" data-icon="'+h.menuItemIcon+'">'+g[b]+"</a></li>";this.menuItems=a.length>0?a:!1}return this.menuItems},i.getNavTabDropdown=function(){var a=this.getUtilsMenuItems();if(!a)return!1;var b=$('<div id="utilsTab-dropdown"><ul class="menu">'+a+"</ul></div>");return b.find("a").attr("data-icon",""),b.on("mouseenter",$.proxy(d,this)).on("mouseleave",$.proxy(e,this)).hide().appendTo($("body")),b},$(document).ready($.proxy(i.init,i))}(window);